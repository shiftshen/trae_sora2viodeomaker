# 未实现功能清单

> 本文档记录项目中已识别但未实现的功能，供后续开发参考。

---

## 高优先级 (P0)

### 1. 视频 Remix 功能
- **状态**: 后端代码存在，前端 UI 不完整
- **文件**:
  - `apps/api/src/index.js` - remix 路由已存在
  - `apps/web/src/App.tsx` - 需要添加 Remix 入口按钮和对话框
- **需求**:
  - 在已完成视频上添加 "Remix" 按钮
  - 支持基于现有视频生成变体
  - 对话框支持修改 prompt 和参数

---

## 中优先级 (P1)

### 2. WebSocket 实时推送
- **状态**: 未实现，当前使用轮询
- **描述**: 将视频生成进度从轮询改为 WebSocket 推送
- **收益**: 减少服务器压力，提升实时性
- **技术方案**:
  - 后端添加 Socket.io 或 ws 库
  - 前端订阅任务进度事件
  - 保留轮询作为降级方案

### 3. 前端组件拆分重构
- **状态**: 单文件应用 (App.tsx 约 3500 行)
- **建议拆分**:
  ```
  src/
  ├── components/
  │   ├── Header.tsx          # 顶部导航栏
  │   ├── VideoCard.tsx       # 视频卡片组件
  │   ├── TaskList.tsx        # 任务列表
  │   ├── CharacterDialog.tsx # 角色管理对话框
  │   ├── SettingsDialog.tsx  # 设置对话框
  │   ├── AgentDialog.tsx     # 智能体管理对话框
  │   └── ModelDialog.tsx     # 模型配置对话框
  ├── hooks/
  │   ├── useVideoGeneration.ts
  │   ├── useCharacters.ts
  │   └── useSettings.ts
  └── stores/
      └── appStore.ts         # 全局状态管理
  ```

### 4. 响应式设计优化
- **状态**: 基础响应式，移动端体验不佳
- **需要优化**:
  - 移动端侧边栏收缩/抽屉
  - 触控优化的视频播放器
  - 底部导航栏 (移动端)
  - 表单自适应布局

---

## 低优先级 (P2)

### 5. 性能优化
- **虚拟滚动**: 大量历史记录时使用虚拟列表
- **图片懒加载**: 视频封面图懒加载
- **代码分割**: 按路由/功能分割 bundle
- **缓存优化**: API 响应缓存策略

### 6. 错误处理增强
- 全局错误边界组件
- API 请求重试机制
- 离线状态检测和提示
- 详细的错误日志上报

### 7. 国际化完善
- 当前支持: 中文、英文、泰文
- 待添加: 日文、韩文、西班牙文
- 待优化: 翻译覆盖率检查

### 8. 用户体验增强
- 快捷键支持 (Ctrl+Enter 提交等)
- 拖拽排序分镜
- 视频批量操作
- 导出/导入配置

---

## 已知问题

### Bug 修复
1. ~~数据库 Schema 重复表定义~~ (已修复)
2. ~~user_settings 表缺少字段~~ (已修复)
3. ~~角色生成缺少视频选择器~~ (已修复)
4. ~~characterRepo.js 未保存 user_id~~ (已修复)

---

## 更新日志

- **2025-01-XX**: 初始化 TODO 文档
- **2025-01-XX**: 完成数据库 Schema 修复
- **2025-01-XX**: 完成角色生成功能完善
